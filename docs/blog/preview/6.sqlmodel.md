---
title: 6.sqlmodel
createTime: 2025/08/28 08:41:04
permalink: /article/tjqkt6vt/
---

engine
session
detach
å½“ä¸€ä¸ªsession å…³é—­åï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½å˜æˆäº†detachedçŠ¶æ€

## ç±»å‹æ³¨è§£

å¯¹äº

```
class Hero(SQLModel, table=True):
    id: int|None = Field(default=None, primary_key=True)
    name: str
    secret_name: str
    age: int|None = None
```

åœ¨æ¯”è¾ƒçš„æ—¶å€™ä¼šå¿½ç•¥None ç±»å‹çš„, ä½†ç¼–è¯‘å™¨ä¼šæŠ¥é”™,è¿™æ—¶å€™è¦ä½¿ç”¨ `col`

```python
from sqlmodel import col
# Code above omitted ğŸ‘†

def select_heroes():
    with Session(engine) as session:
        statement = select(Hero).where(col(Hero.age) >= 35)
        results = session.exec(statement)
        for hero in results:
            print(hero)

# Code below omitted ğŸ‘‡
```
