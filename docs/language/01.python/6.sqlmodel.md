---
title: 6.sqlmodel
createTime: 2025/08/28 08:41:04
permalink: /article/tjqkt6vt/
---

engine
session
detach
当一个session 关闭后，所有的对象都变成了detached状态

## 类型注解

对于

```
class Hero(SQLModel, table=True):
    id: int|None = Field(default=None, primary_key=True)
    name: str
    secret_name: str
    age: int|None = None
```

在比较的时候会忽略None 类型的, 但编译器会报错,这时候要使用 `col`

```python
from sqlmodel import col
# Code above omitted 👆

def select_heroes():
    with Session(engine) as session:
        statement = select(Hero).where(col(Hero.age) >= 35)
        results = session.exec(statement)
        for hero in results:
            print(hero)

# Code below omitted 👇
```
