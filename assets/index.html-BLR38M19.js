import{_ as s,c as e,a,o as t}from"./app-Cx00pBMU.js";const n={};function r(h,i){return t(),e("div",null,[...i[0]||(i[0]=[a('<p>dbDriver, err := db.NewDBDriver(instanceProfile) storeInstance := store.New(dbDriver, instanceProfile)</p><p>memos 把存储分了两层, 一层是 db 层, 负责和具体的数据库交互, 另一层是 store 层, 负责业务逻辑.</p><h2 id="前端" tabindex="-1"><a class="header-anchor" href="#前端"><span>前端</span></a></h2><p>把前端的加载逻辑给单独抽离出来了, 通过 <code>frontend</code> 包来实现.</p><div class="language-go line-numbers-mode" data-highlighter="shiki" data-ext="go" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-go"><span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> frontend</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">NewFrontendService</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">profile</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> store</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">).</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Serve</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">ctx</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> echoServer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>与之想对比的, 我想在就是写在 main 里面的, 而且是先加载的前端, 通过 config 来决定加载什么</p>',6)])])}const l=s(n,[["render",r]]),d=JSON.parse('{"path":"/blog/3v6a9rgu/","title":"memos源码学习","lang":"zh-CN","frontmatter":{"title":"memos源码学习","createTime":"2026/01/04 10:22:26","permalink":"/blog/3v6a9rgu/"},"readingTime":{"minutes":0.42,"words":127},"git":{"createdTime":1769652682000,"updatedTime":1769652682000,"contributors":[{"name":"shinonomeow","username":"shinonomeow","email":"gtx2shino@gmail.com","commits":1,"avatar":"https://avatars.githubusercontent.com/shinonomeow?v=4","url":"https://github.com/shinonomeow"}]},"filePathRelative":"blog/note/memos源码学习.md","headers":[],"categoryList":[{"id":"aad653","sort":10000,"name":"note"}]}');export{l as comp,d as data};
